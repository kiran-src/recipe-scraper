import requests
from bs4 import BeautifulSoup

URL = 'https://www.allrecipes.com/recipes/1232/healthy-recipes/low-calorie/'
headers = {
    'authority': 'www.nasdaq.com',
    'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9',
    'accept-language': 'en-US,en;q=0.9',
    'cache-control': 'no-cache',
    # Requests sorts cookies= alphabetically
    # 'cookie': '_gid=GA1.2.520139622.1651247728; _gcl_au=1.1.963449012.1651247728; ak_bmsc=F515B39B69CF4DFF5025F6DFD872D028~000000000000000000000000000000~YAAQT582Fy4Sn2eAAQAAMcMIdg9pNw+lRiF2oLRIK4hFoLVyOFjts9px5fOFqpPU3gEqEPZZlbSjIl3gcScCmO8DF2dXFaiMdyOvM5tLg/KkZCRDagUTBSB8DpXZY0s/bq92d2Y+T9aBnOA+0OwMiMUAW/HCUNFM1EtBwX5D3fSA+NE7zYRryRe7YoFa2wikW6j0ByCiy0Udo9nLICsQvSrgH9THQbLtsigdwt60f/eEiXyMeCLLoVUN0Kh0bFg9klMadx85p0J215go03QZqjYiXLotgnGYOulIgkcmmjepXl75i+cVuRl+YWsslYJkM+Ib1ihhHmyCj66t9JdPieO2RUNCIPFVORk15otAzUZZQj3zkwjqtofYDX7ZQYMH0PLo9Xerb0mCBM77o9OmpMLqlaeInxxrYJQKt7fyd1ASZiJbtau5Gh0qMrZAf/NbsO12qG4J1bRDZXskQC0Poc9zcnAUatKfXMi2SeXDMudPr/71dvdDb6YyKX4=; _lr_geo_location=ZA; _rdt_uuid=1651247728785.cd4d217f-a002-490e-a454-1428d13ef333; leadChannelMostRecent=Search; __aaxsc=1; _clck=1nac0ql|1|f11|0; trc_cookie_storage=taboola%2520global%253Auser-id%3Deda0ed6f-e657-44ff-a83a-c18b30536476-tuct9658ff4; _biz_uid=1f7722be41d74ff9eb70bdbc0fff05fe; _biz_flagsA=%7B%22Version%22%3A1%2C%22ViewThrough%22%3A%221%22%2C%22XDomain%22%3A%221%22%7D; AKA_A2=A; entryUrl=https://www.nasdaq.com/market-activity/stocks; _biz_sid=69271f; _hjSessionUser_1904744=eyJpZCI6ImNiZjgyZWZkLTRhNzMtNWM4OC1hMjRhLWE1MTJmOWUzODMwMiIsImNyZWF0ZWQiOjE2NTEyNDc3MjkwNDMsImV4aXN0aW5nIjp0cnVlfQ==; _hjIncludedInSessionSample=0; _hjSession_1904744=eyJpZCI6Ijk1MDU3M2Y5LTIwMmYtNDk5OC05Mjc0LTk1Njc5NTJjNTZiMCIsImNyZWF0ZWQiOjE2NTEyNTM4NzU1NzEsImluU2FtcGxlIjpmYWxzZX0=; _hjAbsoluteSessionInProgress=0; _cc_id=9b01f889ee698e11aa88b71bfb26c8fb; panoramaId_expiry=1651858684493; panoramaId=a60ce0582ed5926f48197d1e75c216d5393856f16fb10a44043596f36391d5a8; entryReferringURL=https://www.nasdaq.com/market-activity/stocks; recentlyViewedList=RDBX|Stocks; todaysViewedSymbol=RDBX|Stocks; secondUrl=https://www.nasdaq.com/market-activity/stocks; _biz_nA=5; _biz_pendingA=%5B%5D; _ga_4VZJSZ76VC=GS1.1.1651253872.2.1.1651254520.58; _uetsid=ca8a6760c7d411ecb1cee55da516d26c; _uetvid=ca8a8bb0c7d411ec90887d1ac9b77ada; bm_sv=4060A73F6821C3F467E7A82BEF4ACBFC~dtU+a7H3zch0QneIP98qe43ugejDGFRwaDNnLz5mou6zGQMN9IGEcMMPdCtgwEWPZHZxBzJIZ8axotUWF/m1CqtQSKprE3p8Be1/9QuUOHMQqlHmf5R8icrfJDvVEgA+JJRXCE8JyZQO6oXe7ipfW1DUOYKoRRyLuvY26hH9fWU=; OptanonConsent=isGpcEnabled=0&datestamp=Fri+Apr+29+2022+19%3A48%3A41+GMT%2B0200+(South+Africa+Standard+Time)&version=6.20.0&isIABGlobal=false&hosts=&landingPath=https%3A%2F%2Fwww.nasdaq.com%2Fmarket-activity%2Fstocks&groups=C0004%3A0%2CC0001%3A1%2CC0003%3A0%2CC0002%3A0; aasd=4%7C1651253877108; _ga=GA1.2.1493132402.1651247728; cto_bundle=jh_BzF9MZjBOb1BYRW0lMkZicHRydzVSTDk2NndrQ282Q2JKZE1rQ0hSZ0ZVMTBva3kwVkwzZW5vbE1mWE9GJTJCNENycmlScFAyUWhJSVMzZEJ2TkJxMjZ2OG5INjZkRnQlMkZNc2s5N2dpS1gxRVNPWXBFUFJ0WDNTYWdiZWdzOTVpJTJGNUtMRG9WazNWcEVUOGt4cUhhN3p6elBtaW0zZyUzRCUzRA; _clsk=1bnzsfy|1651254903029|6|0|j.clarity.ms/collect; RT="z=1&dm=nasdaq.com&si=f77e767d-9339-4ac8-80a3-b61d0ec6a42f&ss=l2kpx5zy&sl=4&tt=jrw&bcn=%2F%2F02179918.akstat.io%2F&obo=1&ul=mavu"',
    'pragma': 'no-cache',
    'referer': 'https://www.nasdaq.com/market-activity/stocks',
    'sec-ch-ua': '" Not A;Brand";v="99", "Chromium";v="100", "Microsoft Edge";v="100"',
    'sec-ch-ua-mobile': '?0',
    'sec-ch-ua-platform': '"Windows"',
    'sec-fetch-dest': 'document',
    'sec-fetch-mode': 'navigate',
    'sec-fetch-site': 'none',
    'sec-fetch-user': '?1',
    'upgrade-insecure-requests': '1',
    'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36 Edg/100.0.1185.50',
}
site = requests.get(url=URL, timeout=10, headers=headers)

soup = BeautifulSoup(site.text, "html.parser")
recipes = soup.find_all(name="a", class_="card__titleLink manual-link-behavior elementFont__title margin-8-bottom")
print(len(recipes))
f = open("w.txt", "w", encoding="utf-8")
f.write(site.text)
f.close()
for i in recipes:
    print(i)

# <a class="card__titleLink manual-link-behavior elementFont__titleLink margin-8-bottom" title="Vietnamese Fresh Spring Rolls" href="https://www.allrecipes.com/recipe/24239/vietnamese-fresh-spring-rolls/"> <h3 class="card__title elementFont__resetHeading"> Vietnamese Fresh Spring Rolls </h3> </a>
# <div class="component card card__category" data-content-graph-id="cms/onecms_posts_alrcom_24239"> <div class="card__imageContainer"> <a class="card__titleLink manual-link-behavior elementFont__title margin-8-bottom" href="https://www.allrecipes.com/recipe/24239/vietnamese-fresh-spring-rolls/" title="Vietnamese Fresh Spring Rolls" aria-hidden="true" tabindex="-1"> <div class="component lazy-image lazy-image-udf aspect_1x1 align-default rendered image-loaded" data-src="https://imagesvc.meredithcorp.io/v3/mm/image?url=https%3A%2F%2Fstatic.onecms.io%2Fwp-content%2Fuploads%2Fsites%2F43%2F2022%2F04%2F21%2F24239-vietnamese-fresh-spring-rolls-1x1-1.jpg" data-special-crop="" data-alt="An overhead view of 3 Vietnamese Spring rolls, cut in half, on a bamboo tray. Served with a chili sauce" data-title="Vietnamese Fresh Spring Rolls" data-shop-image="false" data-original-width="2000" data-original-height="2000" data-high-density="false" data-crop-percentage="100" data-width="272" data-tracking-zone="image" data-orientation="default" data-content-type="content-type-recipe"> <noscript><img src="https://imagesvc.meredithcorp.io/v3/mm/image?url=https%3A%2F%2Fstatic.onecms.io%2Fwp-content%2Fuploads%2Fsites%2F43%2F2022%2F04%2F21%2F24239-vietnamese-fresh-spring-rolls-1x1-1.jpg" alt="An overhead view of 3 Vietnamese Spring rolls, cut in half, on a bamboo tray. Served with a chili sauce" width="272"></noscript> <div class="inner-container js-inner-container"><img src="https://imagesvc.meredithcorp.io/v3/mm/image?url=https%3A%2F%2Fstatic.onecms.io%2Fwp-content%2Fuploads%2Fsites%2F43%2F2022%2F04%2F21%2F24239-vietnamese-fresh-spring-rolls-1x1-1.jpg&amp;w=272&amp;h=272&amp;c=sc&amp;poi=face&amp;q=60" alt="An overhead view of 3 Vietnamese Spring rolls, cut in half, on a bamboo tray. Served with a chili sauce" title="Vietnamese Fresh Spring Rolls" width="272" height="272"> <span class="placeholderText visually-hidden">An overhead view of 3 Vietnamese Spring rolls, cut in half, on a bamboo tray. Served with a chili sauce</span> </div><div class="lazy-image__loadingPlaceholder"><img class="loadingPlaceholder" alt="" src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%3E%3C/svg%3E" width="2000" height="2000"></div></div> <span class="icon recipe-play-icon"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 20 20" aria-label="video"><path fill="#FFF" class="badge__play-square-icon excluded-color" d="M0 20h20V0H0z"></path><path fill="#B7B4B4" d="M0 20h20V0H0v20zM7.59 6.538l6.009 3.468-6.008 3.468V6.538z"></path></svg> </span> </a> <div class="component favorite favorite__userApi initialized"> <span class="icon icon-favorite default-icon" data-social-service="favorite" data-tracking-zone="save-heart"><a href="javascript:void(0);" class="display-block saveMe shareicon-favorite-link-tag shareicon-favorite-link shareicon-favorite-user-api embedded-auth-modal-trigger" aria-label="Save this (opens in a new window)" title="Save Item" data-content-id="cms/onecms_posts_alrcom_24239" data-regsource="3908" data-context-action="Save" data-context-dek="Join now to save Vietnamese Fresh Spring Rolls to your account" data-login-url="/account/signin" data-login-return-action="user-api-save" data-tracking-do-not-follow="true"> <svg xmlns="http://www.w3.org/2000/svg" class="icon-share icon-share-favorite" width="36" height="20" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"></path></svg> <span class="icon__text">Save</span></a></span> </div> </div> <div class="card__detailsContainer"> <div class="card__detailsContainer-left"> <a class="card__titleLink manual-link-behavior elementFont__titleLink margin-8-bottom" title="Vietnamese Fresh Spring Rolls" href="https://www.allrecipes.com/recipe/24239/vietnamese-fresh-spring-rolls/"> <h3 class="card__title elementFont__resetHeading"> Vietnamese Fresh Spring Rolls </h3> </a> <div class="card__ratingContainer"> <div class="component recipe-ratings"> <span class="review-star-text visually-hidden">Rating: 4.5 stars</span> <span class="rating-star active" aria-hidden="true" data-rating="1"><svg width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"><path class="rating-star-filled" d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></svg></span> <span class="rating-star active" aria-hidden="true" data-rating="2"><svg width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"><path class="rating-star-filled" d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></svg></span> <span class="rating-star active" aria-hidden="true" data-rating="3"><svg width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"><path class="rating-star-filled" d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></svg></span> <span class="rating-star active" aria-hidden="true" data-rating="4"><svg width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"><path class="rating-star-filled" d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></svg></span> <span class="rating-star active" aria-hidden="true" data-rating="5"><svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true"><g fill="#000" fill-opacity=".95"><path class="rating-star-filled" d="M22 9.74l-7.19-.62L12 2.5 9.19 9.13 2 9.74l5.46 4.73-1.64 7.03L12 17.77l6.18 3.73-1.63-7.03L22 9.74zM12 15.9V6.6l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.9z"></path></g></svg></span> <span class="ratings-count elementFont__details"> 729 </span> </div> </div> <div class="card__summary elementFont__details--paragraphWithin margin-8-tb"> With fresh vegetables wrapped in rice paper, these Vietnamese spring rolls are a refreshing appetizer for an Asian-inspired meal. </div> </div> </div> </div>